

<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
      <meta http-equiv="x-ua-compatible" content="ie=edge" />
      <meta name="google-site-verification" content="pwdq2w9VuNoMWvD762vfyZfuk0zgEpGnRZQ2p_KS-10" />
      <meta property="fb:pages" content="111280197728781" />
      <title>Mikrotik Lombok</title>
      <!-- MDB icon -->
      <link rel="icon" href="img/logo.png" type="image/x-icon" />
      <!-- Font Awesome -->
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css" />
      <!-- Google Fonts Roboto -->
      <link
        rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap"
      />
      <!-- css bs 4 -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
      <!-- MDB -->
      <link rel="stylesheet" href="css/mdb.min.css" /> 
      <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1301950088875050"
       crossorigin="anonymous"></script>
  </head>
  <style>
    body {
        background: linear-gradient(to bottom, #000428, #004e92);
      }
  </style>
      <body>
      <!-- Navbar -->
        <nav class="navbar navbar-expand-lg navbar-light bg-light container">
          <!-- Container wrapper -->
          <div class="container">
            <!-- Navbar brand -->
            <a class="navbar-brand me-2" href="https://miklombok.github.io">
              <img
                src="img/logo.png"
                height="65"
                alt=""
                loading="lazy"
                style="margin-top: -1px;"
              />
            </a>

            <!-- Toggle button -->
            <button class="navbar-toggler" type="button" data-mdb-toggle="collapse" data-mdb-target="#navbarButtonsExample" aria-controls="navbarButtonsExample" aria-expanded="false" aria-label="Toggle navigation"> <i class="fas fa-bars"></i></button>
            <!-- Collapsible wrapper -->
            <div class="collapse navbar-collapse" id="navbarButtonsExample">
              <!-- Left links -->
              <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                  <a class="nav-link" href="#"><h2>Mikrotik<strong class="text-danger">LOMBOK</strong>.Github.io</h2></a>
                </li>
              </ul>
              <!-- Left links -->

              <div class="d-flex align-items-center">
      
                <button type="button" class="btn btn-primary me-3">
                 <a href="miklombok.github.io"><img src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fmiklombok.github.io&count_bg=%233D6BC8&title_bg=%23FF0000&icon=&icon_color=%23E7E7E7&title=hits&edge_flat=false"/></a>
                </button>
              </div>
            </div>
            <!-- Collapsible wrapper -->
          </div>
          <!-- Container wrapper -->
        </nav>
        <!-- Navbar -->
            <!-- nav end -->
        <!-- menu -->
        <div class="container">
           <div class="row navbar bg-dark">
            <div class="col-md-4 text-center monospace fw-bold text-white ">Select Scrip Generator</div>
             <div class="col-md-8 text-center bg-light monospace fw-bold"> <marquee scrolldelay="35">Terimkasih Sudah Mengunjungi situs <strong>MIKROTIK LOMBOK</strong></marquee></div>
          </div>
        </div><br>

        <!-- conten  -->

      <div class="container" id="app">
      <div class="jumbotron">
        <a><h2>TOOLS SCRIPT AUTOLOGIN WIFI.ID WMS 2021</h2>
	      <div
		  class="fb-like"
		  data-share="true"
		  data-width="450"
		  data-show-faces="true">
	     </div>
	      </a>
          <div class="row">
            <div class="col-sm-4 border border-primary">
              <form onsubmit="event.preventDefault()" autocomplete="off">
                 <div class="form-group">
                  <label for="exampleInputEmail1">INTERFACE</label>
                  <input type="text" class="form-control" id="interface" aria-describedby="emailHelp" placeholder="Ex: wlan1">
                </div>
                <div class="form-group">
                  <label for="exampleInputEmail1">Username</label>
                  <input type="text" class="form-control" id="user" aria-describedby="emailHelp" placeholder="janda">
                </div>
                  <div class="form-group">
                  <label for="exampleInputEmail1">Password</label>
                  <input type="text" class="form-control" id="pass" aria-describedby="emailHelp" placeholder="janda3">
                </div>
                  <div class="form-group">
                  <label for="exampleInputEmail1">Makeid</label>
                  <input type="text" class="form-control" id="makeid" aria-describedby="emailHelp" placeholder="Ex: @mwslite.1342420420.000">
                </div>
                <div class="form-group">
                  <label for="exampleInputEmail1">Gw_id</label>
                  <input type="text" class="form-control" id="gwid" aria-describedby="emailHelp" placeholder="Ex: WAG-D1-PBR">
                </div>
                <div class="form-group">
                  <label for="exampleInputEmail1">Wlan</label>
                  <input type="text" class="form-control" id="wlan" aria-describedby="emailHelp" placeholder="Ex: GPON00-D1-TAK-3BSRXXXXXXX">
                </div>
                <hr>
                <button type="submit" class="btn btn-primary" onclick="vm.kirim()">Generate</button>
              </form>
            </div>
            <div class="col-sm-8 border-primary">
             <div id="tebel-data" style="background: white; color: black; border: 1px solid blue; height: 510px; overflow-y: auto; overflow-x: scroll; padding: 10px; width: 710px; ">
            :local currentQueue 0; <br>
			:local nolock true;<br>
			:local gurl "https://welcome2.wifi.id";<br>
			:local guxx "http://www.msftconnecttest.com/redirect";<br>
			:local username "";<br>
			:local password "";<br>
			:local int "<span class="text-danger">{{interface}}</span>";<br>
			:local gwp "<span class="text-danger">{{gwid}}</span>";<br>
			:local mdlan "<span class="text-danger">{{wlan}}</span>";<br>
			:local type "WMS";<br><br>

			:while (true) do={ <br>
			 :do {<br>
			  :delay 15s;<br>
			  :if ([/ping address=8.8.8.8 count=1] = 0) do={<br>
			   :set currentQueue ($currentQueue +1);<br><br>
			   
			   :if ($currentQueue > 3) do={<br>
			    :if (nolock) do={<br>	
				 :set nolock false;<br><br>
				 
			     :global gip [/ip address get [/ip address find interface=$int] address];<br>
			     :global gip [put [:pick $gip 0 [:find $gip "/"]]];<br>
			     :global gmc  [/interface wireless get $int mac-address];  <br> 
			     :global vrab "ipc=$gip&gw_id=$gwp&mac=$gmc&redirect=$guxx&wlan=$mdlan";<br>
			     :global url "$gurl/authnew/login/check_login.php\?$vrab";<br>
			     :global post "username=$username@spin2&password=$password";<br><br>
			   
			     :if ($type = "WMS") do={<br>
			      :set username "<span class="text-danger">{{user}}</span>"<br>
			      :set password "<span class="text-danger">{{pass}}</span>"<br>
			      :set url "$gurl/wms/auth/authnew/autologin/quarantine.php\?$vrab"<br>
			      :set post "username_=$username&username=$username.TrL1<span class="text-danger">{{makeid}}</span>&password=$password"<br>
			     };<br><br>
				
			     log warning ("Internet Mati Memulai Koneksi Ulang | $gip | $gmc | $type | $currentQueue"); <br>	
			     :set currentQueue 0;<br><br>
				
				 :do {<br>
				  /interface disable $int<br>
			      :delay 15s;<br>
			      /interface enable $int<br>
				  :delay 15s<br>
				 } on-error={<br>
			      log warning ("Error set");<br>
			     };<br><br>

			     :do {<br>
				  :local result [/tool fetch http-method=post http-data=$post url=$url http-header-field="User-Agent: <br>Mozilla/5.0" as-value output=user];<br>
			      :if ([:find ($result->"data") "Sukses"] >= 0) do={<br>
			       log info ("WIFI Kembali Normal")<br>
			      } else={<br>
			       :if (($result->"data") = "") do={<br>
			        log info ("Wifi sudah konek");<br>
			       } else={<br>
			        log warning ($result->"data")<br>
			       };<br>
			      };<br>
				 } on<br>-error={<br>
			      log warning ("Error Cek Internet");<br>
			     };<br><br>
				 
				 :set nolock true;<br><br>
				 
				} else={<br>
				 log warning ("Lock Proses");<br>	 
				};<br><br>
				
			   };<br>
			   
			  } else {<br>
			   # log info ("Wifi Normal");<br>
			   :set currentQueue 0;<br>
			  };<br><br>
			  
			  } on-error={<br>
			   log warning ("Error big");<br>
			   :set currentQueue ($currentQueue +1);<br>
			  };<br>
			}
              
              </div><hr>
              <p class="border border-primary" style="background: white;">#Agar script ini berjalan otomatis saat router reboot, kamu perlu menambahkan scheduler yang akan dieksekusi sesaat setelah router mikrotik hidup. <br><br>
              :delay 15s;<br>
				/sys scr run wms </p>
              
            </div>
          </div>
      </div>

      </div>
      

     <!-- end content -->
              <!-- foother -->
              <div class="container">
                <footer class=" text-center">
                <!-- Copyright -->
                <div class="text-center p-3 bg-light">
                  Â© 2021
                  <a class="text-dark font-monospace fw-bold" href="https://miklombok.github.io/">miklombok.github.io</a>
                </div>
                <!-- Copyright -->
              </footer>
              </div>
        <!-- MDB -->
        <script type="text/javascript" src="js/mdb.min.js"></script>
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9186826838246315"
             crossorigin="anonymous"></script>
        <!-- iklan -->
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-9186826838246315"
             data-ad-slot="6979971273"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
             (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
        <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
        <script type="text/javascript">
          var vm = new Vue({
            el: '#app',
            data : {
              interface : "",
              user : "",
              pass : "",
              makeid : "",
              gwid : "",
              wlan : "",
              link : "",
            },
            methods : {
              kirim(){
                this.interface= document.getElementById('interface').value
                this.user= document.getElementById('user').value
                this.pass= document.getElementById('pass').value
                this.makeid= document.getElementById('makeid').value
                this.gwid= document.getElementById('gwid').value
                this.wlan= document.getElementById('wlan').value
                this.link= document.getElementById('link').value
              }
            }
          })
          
        </script>
	      <script>
	  window.fbAsyncInit = function() {
	    FB.init({
	      appId      : '1408453226188374',
	      xfbml      : true,
	      version    : 'v12.0'
	    });
	    FB.AppEvents.logPageView();
	  };

	  (function(d, s, id){
	     var js, fjs = d.getElementsByTagName(s)[0];
	     if (d.getElementById(id)) {return;}
	     js = d.createElement(s); js.id = id;
	     js.src = "https://connect.facebook.net/en_US/sdk.js";
	     fjs.parentNode.insertBefore(js, fjs);
	   }(document, 'script', 'facebook-jssdk'));
	</script>
      </body>
</html>

